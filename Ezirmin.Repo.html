<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="next" href="Ezirmin.Blob_log.html">
<link rel="Up" href="Ezirmin.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Ezirmin" rel="Chapter" href="Ezirmin.html"><link title="Repo operations" rel="Section" href="#1_Repooperations">
<link title="History" rel="Subsection" href="#2_History">
<link title="Watch" rel="Subsection" href="#2_Watch">
<link title="Sync" rel="Subsection" href="#2_Sync">
<title>Ezirmin.Repo</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="Ezirmin.html" title="Ezirmin">Up</a>
&nbsp;<a class="post" href="Ezirmin.Blob_log.html" title="Ezirmin.Blob_log">Next</a>
</div>
<h1>Module type <a href="type_Ezirmin.Repo.html">Ezirmin.Repo</a></h1>

<pre><span class="keyword">module type</span> Repo = <code class="code"><span class="keyword">sig</span></code> <a href="Ezirmin.Repo.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><hr width="100%">
<br>
<h1 id="1_Repooperations">Repo operations</h1><br>
<br>
<code class="code"><span class="constructor">Repo</span></code> provides operations on repositories.<br>

<pre><span id="TYPErepo"><span class="keyword">type</span> <code class="type"></code>repo</span> </pre>
<div class="info ">
The type of repository handles. A repository contains a set of branches.<br>
</div>


<pre><span id="TYPEbranch"><span class="keyword">type</span> <code class="type"></code>branch</span> </pre>
<div class="info ">
The type of persistent branches.<br>
</div>


<pre><span id="VALinit"><span class="keyword">val</span> init</span> : <code class="type">?root:string -> ?bare:bool -> unit -> <a href="Ezirmin.Repo.html#TYPErepo">repo</a> Lwt.t</code></pre><div class="info ">
Initialize and connect to the repository in a backend specific manner.
<p>

      <ul>
<li><code class="code">root</code> is the local git repository's root directory. If unset, the
      current working directory is chosen to be the root.</li>
<li>If <code class="code">bare</code> is set (unset by default), the git repository is made to be
      bare. Otherwise, the contents are expanded into the local filesystem on
      each update. This can cause performance issues on write heavy workloads.</li>
</ul>
<br>
</div>

<pre><span id="VALmaster"><span class="keyword">val</span> master</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPErepo">repo</a> -> <a href="Ezirmin.Repo.html#TYPEbranch">branch</a> Lwt.t</code></pre><div class="info ">
<code class="code">master repo</code> fetches the master branch of the repository.<br>
</div>

<pre><span id="VALget_branch"><span class="keyword">val</span> get_branch</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPErepo">repo</a> -> branch_name:string -> <a href="Ezirmin.Repo.html#TYPEbranch">branch</a> Lwt.t</code></pre><div class="info ">
<code class="code">get_branch repo b</code> fetches the branch <code class="code">b</code> by name. If branch <code class="code">b</code> does not
      already exist, then the branch will be created and a handle to it
      returned.<br>
</div>

<pre><span id="VALget_branch_name"><span class="keyword">val</span> get_branch_name</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> string option Lwt.t</code></pre><div class="info ">
Return the branch name. Return <code class="code"><span class="constructor">None</span></code> if the branch is not persistent.<br>
</div>

<pre><span id="VALclone_force"><span class="keyword">val</span> clone_force</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> string -> <a href="Ezirmin.Repo.html#TYPEbranch">branch</a> Lwt.t</code></pre><div class="info ">
<code class="code">clone_force b n</code> clones the branch <code class="code">b</code> naming the new branch <code class="code">n</code>. If a
      branch named <code class="code">n</code> exists, then that branch will be overwritten.<br>
</div>

<pre><span id="VALmerge"><span class="keyword">val</span> merge</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> into:<a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> unit Lwt.t</code></pre><div class="info ">
<code class="code">merge w m</code> merges branch <code class="code">w</code> into <code class="code">m</code>. Merge will always succeed. After
      the merge the branch <code class="code">w</code> continues to exist.<br>
</div>
<br>
<h2 id="2_History">History</h2><br>

<pre><span id="VALpredecessors"><span class="keyword">val</span> predecessors</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPErepo">repo</a> -> <a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> <a href="Ezirmin.Repo.html#TYPEbranch">branch</a> list Lwt.t</code></pre><div class="info ">
Return the list of predecessors of the head of the branch.<br>
</div>

<pre><span id="VALupdate_branch"><span class="keyword">val</span> update_branch</span> : <code class="type"><a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> set:<a href="Ezirmin.Repo.html#TYPEbranch">branch</a> -> unit Lwt.t</code></pre><div class="info ">
<code class="code">update_branch b s</code> updates the head of the branch <code class="code">b</code> to the head of the
      branch <code class="code">s</code>.<br>
</div>

<pre><span class="keyword">module</span> <a href="Ezirmin.Repo.Commit.html">Commit</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Ezirmin.Repo.Commit.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><br>
<h2 id="2_Watch">Watch</h2><br>

<pre><span id="VALinstall_listener"><span class="keyword">val</span> install_listener</span> : <code class="type">unit -> unit</code></pre><div class="info ">
Create a thread that actively polls for change. Prefer
      <a href="https://opam.ocaml.org/packages/inotify/inotify.2.0/">inotify</a> if it
      works on your system.<br>
</div>
<br>
<h2 id="2_Sync">Sync</h2><br>
<br>
<code class="code"><span class="constructor">Sync</span></code> provides functionality to sync with remote repositories.<br>

<pre><span class="keyword">module</span> <a href="Ezirmin.Repo.Sync.html">Sync</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Ezirmin.Repo.Sync.html">..</a> <code class="code"><span class="keyword">end</span></code></pre></body></html>